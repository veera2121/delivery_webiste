<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>COD & Payment Summary - {{ date }}</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; background: #f4f6f8; margin: 0; padding: 20px; color: #333; }
h1 { color: #ff5722; margin-bottom: 20px; }

/* DATE FILTER */
.filter-form { margin-bottom: 20px; display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
.filter-form input[type="date"] { padding: 6px 12px; border-radius: 6px; border: 1px solid #ccc; }
.filter-form button { padding: 6px 12px; border-radius: 6px; border: none; background: #2196f3; color: white; cursor: pointer; }
.filter-form button:hover { background: #1976d2; }

/* STATS TABLE */
table { width: 100%; border-collapse: collapse; background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 6px 20px rgba(0,0,0,0.05); }
th, td { padding: 12px; text-align: center; border-bottom: 1px solid #eee; font-size: 14px; }
th { background: #ff5722; color: white; font-weight: 600; }
tr:hover { background: #fff3e0; }

/* EMPTY STATE */
.empty { text-align: center; padding: 20px; color: #999; font-weight: 600; }

/* RESPONSIVE */
@media (max-width: 768px) {
    table, thead, tbody, th, td, tr { display: block; }
    thead tr { display: none; }
    tr { margin-bottom: 20px; background: #fff; padding: 10px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    td { text-align: right; padding-left: 50%; position: relative; }
    td::before { content: attr(data-label); position: absolute; left: 15px; width: 45%; font-weight: 600; text-align: left; }
}
</style>
</head>
<body>

<h1>COD & Payment Summary - {{ date }}</h1>

<!-- DATE FILTER FORM -->
<form class="filter-form" method="get">
    <input type="date" name="date" value="{{ date }}">
    <button type="submit">Filter</button>
</form>

<!-- COD SUMMARY TABLE -->
<table>
  <thead>
    <tr>
      <th>Delivery Boy</th>
      <th>COD Amount</th>
      <th>Online Amount</th>
      <th>Total Amount</th>
      <th>Orders Delivered</th>
    </tr>
  </thead>
  <tbody>
    {% if cod_summary %}
        {% for dp, data in cod_summary.items() %}
        <tr>
          <td data-label="Delivery Boy">{{ dp }}</td>
          <td data-label="COD Amount">₹{{ data.COD }}</td>
          <td data-label="Online Amount">₹{{ data.Online }}</td>
          <td data-label="Total Amount">₹{{ data.Total }}</td>
          <td data-label="Orders Delivered">{{ data.Orders }}</td>
        </tr>
        {% endfor %}
    {% else %}
        <tr><td colspan="5" class="empty">No orders found for this date.</td></tr>
    {% endif %}
  </tbody>
</table>

</body>
</html>
